<!-- PyScript筆記
留言
前情提要
Anaconda最近釋出的PyScript，可以讓Python寫在HTML裡。
看了教學稍微做了一點筆記。

1. Import PyScript -->
<link rel="stylesheet" href="https://pyscript.net/alpha/pyscript.css" />
<script defer src="https://pyscript.net/alpha/pyscript.js"></script>
<!-- 寫這兩行就等於import好了，不用下載任何套件。

2. 基本使用方法
要寫python的話、 -->

<py-script> </py-script>
<!-- 上面這個tag要先寫。

直接寫一個hello world XD -->

<html>
  <head>
    <link rel="stylesheet" href="https://pyscript.net/alpha/pyscript.css"/>
    <script defer src="https://pyscript.net/alpha/pyscript.js"></script>
  </head>
  <body> <py-script> print('Hello, World!') </py-script> </body>
</html>
<!-- 執行結果:


print的字串直接顯示在網頁上了。
(補充: 官方推薦Chrome，Safari之類的瀏覽器可能會失敗) -->

<!-- 3. 在HTML裡畫圖
畫圖之前，再提一點點需要的東西。

1.跟Python一樣，要import library時 -->
<py-env> </py-env>
<!-- 上面這個tag要先寫。

2. pyscript.write()
用pyscript.write()可以把資料寫入特定的id。

pyscript.write(arg1, arg2)
arg1: id
arg2: 要傳的值
練習一下: -->

<html>
    <head>
      <link rel="stylesheet" href="https://pyscript.net/alpha/pyscript.css"/>
      <script defer src="https://pyscript.net/alpha/pyscript.js"></script>
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
    </head>

    <body>
      <div id="blue" class="alert alert-primary"></div>
      <div id="red" class="alert alert-danger"></div>
      <py-script>
pyscript.write("blue", "In blue.")
pyscript.write("red", "In red.")
      </py-script>
    </body>
</html>
<!-- 執行結果:

In blue.跟In red.都分別顯示在藍色跟紅色的div了~
題外話，alert alert-primary/danger是BootStrap的定義來的。
可以參考這裡

最後，用matplotlib畫個圖試試看! -->

<head>
  <link rel="stylesheet" href="https://pyscript.net/alpha/pyscript.css"/>
  <script defer src="https://pyscript.net/alpha/pyscript.js"></script>
  <py-env>
    - numpy
    - matplotlib
  </py-env>
</head>
Import PyScript、numpy跟matplotlib

<body>
  <h1>二次函數</h1>
  <div id="quad"></div>
  <py-script output="quad">
import matplotlib.pyplot as plt
import numpy as np

x = x = np.arange(-10, 10, 0.1)
y = x*x

fig, ax = plt.subplots()
ax.plot(x, y)
fig
  </py-script>
</body>
<!-- 注意點↓

<py-script output="quad">
這寫法是把圖的結果傳到id=quad的div裡面的意思。
跟↓一樣！

pyscript.write('quad', fig)
完整的code -->

<html>
    <head>
      <link rel="stylesheet" href="https://pyscript.net/alpha/pyscript.css"/>
      <script defer src="https://pyscript.net/alpha/pyscript.js"></script>
      <py-env>
        - numpy
        - matplotlib
      </py-env>
    </head>

  　<body>
    　<h1>二次函數</h1>
    　<div id="quad"></div>
    　<py-script output="quad">
import matplotlib.pyplot as plt
import numpy as np

x = x = np.arange(-10, 10, 0.1)
y = x*x

fig, ax = plt.subplots()
ax.plot(x, y)
fig
    　</py-script>
  　</body>
</html>
<!-- 執行結果:



感想
真方便～畫機器學習的結果也能直接應用！
缺點是載入有點久.. -->

<!-- 如果你想在 localhost 上執行 Pyscript,你可以使用 Python 內建的簡單 HTTP 伺服器。以下是步驟:

1. 打開終端機或命令提示字元。

2. 進入你的 Pyscript 專案目錄。

3. 執行以下命令啟動 HTTP 伺服器:

   ```
   python -m http.server
   ```

   這將在 localhost 的 8000 port 啟動一個簡單的 HTTP 伺服器。

4. 在瀏覽器中打開 `http://localhost:8000`。你應該能看到你的 Pyscript 專案頁面。

這樣就可以在本地端使用 Pyscript 了。如果你需要在其他設備上訪問你的 Pyscript 應用程式,只需查找你電腦的 IP 位址,然後在瀏覽器中輸入 `http://<your_ip_address>:8000` 即可。

需要注意的是,這只是一個簡單的開發用伺服器,不適合用於生產環境。在部署到生產環境時,你可能需要使用更強大的 Web 伺服器,如 Nginx 或 Apache。

Citations:
[1] https://hacs-pyscript.readthedocs.io/en/stable/reference.html
[2] https://github.com/pyscript/pyscript/discussions/1062
[3] https://docs.pyscript.net/2024.1.3/user-guide/plugins/
[4] https://dev.to/0xog_pg/pyscript-python-in-the-browser-3dbd
[5] https://docs.pyscript.net/2023.12.1/user-guide/plugins/ -->


<link rel="stylesheet" href="https://pyscript.net/releases/2024.5.2/core.css">

    <!-- This script tag bootstraps PyScript -->
    <script type="module" src="https://pyscript.net/releases/2024.5.2/core.js"></script>